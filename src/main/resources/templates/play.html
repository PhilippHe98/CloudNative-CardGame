<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
    xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <title>Card Game</title>
    <link th:href="@{/css/styles.css}" rel="stylesheet" />
    <script th:src="@{/js/game.js}"></script>
</head>

<body>
    <h1 th:text="'Game: ' + ${gamestate.id}"></h1>
    <p th:text="'Remaining cards in deck: ' + ${gamestate.deck.remaining}"></p>

    <div>
        <!-- <form action="/game/play/drawCards" method="get">
            <input type="hidden" name="gameId" th:value="${gamestate.id}" />
            <input type="number" id="count" name="count" min="1" max="52" />
            <input type="submit" value="Draw Cards" />
        </form> -->

        <form action="/game/play/backToHomepage" method="get">
            <button type="submit" class="back-button">Back to homepage</button>
        </form>
    </div>

    <p>5 Gleiche: 16x</p>
    <p>4 Gleiche: 8x</p>
    <p>Full House: 6x</p>
    <p>Drei Gleiche: 4x</p>
    <p>Zwei Paare: 3x</p>
    <p>Ein Paar: 2x</p>
    <br>
    <p>Ass > KÃ¶nig > Dame > Bube > 10 > 9</p>


    <div class="opponent-card-container" th:if="${opponent_hand != null}">
        <div th:each="card : ${opponent_hand}">
            <img src="https://www.deckofcardsapi.com/static/img/back.png" class="card card-back"></img>
            <img th:src="${card.image}" class="card card-front"></img>
        </div>
    </div>

    <div>
        <form action="/game/play/exchangeCards" method="get" onsubmit="getSelectedCardCodes(); disableButton();">
            <input type="hidden" name="gameId" th:value="${gamestate.id}" />
            <input type="hidden" id="cardCodes" name="cardCodes" />
            <button type="submit" class="exchange-button" id="exchange-button">Karten halten</button>
        </form>

        <button type="button" id="compare-button">Karten vergleichen</button>
        
        <form action="/game/play" method="get">
            <input type="hidden" name="gameId" th:value="${gamestate.id}" />
            <button type="submit" class="new-round-button">Neue Runde</button>
        </form>
    </div>
    

    <div class="card-container" th:if="${player_hand != null}">
        <div th:each="card : ${player_hand}">
            <img th:src="${card.image}" th:id="'card-'+${card.handPositionId}" alt="Card image" class="card"
                onclick=selectCard(this.id) th:data-card-code="${card.code}">
        </div>
    </div>
</body>

</html>